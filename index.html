<script>
   // Handle Registration
   function handleRegistration() {
       const firstName = document.getElementById("register-firstname").value.trim();
       const lastName = document.getElementById("register-lastname").value.trim();
       const email = document.getElementById("register-email").value.trim();
       const phone = document.getElementById("register-phone").value.trim();
       const password = document.getElementById("register-password").value.trim();

       // Validate input fields
       if (!firstName || !lastName || !email || !phone || !password) {
           alert("Please fill out all fields.");
           return;
       }

       // Basic email validation
       const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
       if (!emailRegex.test(email)) {
           alert("Please enter a valid email address.");
           return;
       }

       // Update user in Infobip People WebSDK
       pe.setPerson({
           firstName: firstName,
           lastName: lastName,
           email: email,
           phone: phone
       });

       // Track user registration event
       pe.track("user_registered", {
           firstName: firstName,
           lastName: lastName,
           email: email,
           phone: phone,
           registrationDate: new Date().toISOString()
       });

       // Optionally confirm user attributes in the system
       pe.updatePerson({
           attributes: {
               firstName: firstName,
               lastName: lastName,
               phone: phone
           }
       });

       alert("Registration successful!");
       showLogin(); // Redirect to login form
   }

   // Handle Login
   function handleLogin() {
       const email = document.getElementById("login-email").value.trim();
       const password = document.getElementById("login-password").value.trim();

       // Validate input fields
       if (!email || !password) {
           alert("Please enter your email and password.");
           return;
       }

       // Track user login event
       pe.track("user_logged_in", {
           email: email,
           loginDate: new Date().toISOString()
       });

       alert("Login successful!");
   }

   // Default to showing the login form
   showLogin();
</script>
